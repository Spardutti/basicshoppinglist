(()=>{"use strict";var e={79:(e,t,r)=>{r.r(t),r.d(t,{addItem:()=>o});var n=r(138);function o(){let e=document.querySelector(".item"),t=document.querySelector(".qty");return""==t.value&&(t.value=1),firebase.firestore().collection("task").add({name:(0,n.vW)(),task:e.value,profilePicUrl:(0,n.KN)(),quantity:t.value,timestamp:firebase.firestore.FieldValue.serverTimestamp()}).catch((function(e){console.error("Error writing new task to database",e)}))}},382:(e,t,r)=>{r.r(t),r.d(t,{displayStorage:()=>o});var n=r(975);function o(e,t,r){let o=document.createElement("p"),d=document.createElement("p"),i=document.createElement("p"),a=document.querySelector(".display"),s=document.createElement("div");s.setAttribute("class","displayItem"),s.setAttribute("id",r),o.innerHTML=e,d.innerHTML=t,i.innerHTML='<i class="fas fa-minus-circle"></i>',i.addEventListener("click",n.c),""!=e&&(s.append(o,d,i),a.appendChild(s))}},138:(e,t,r)=>{r.d(t,{vW:()=>c,KN:()=>u});var n=r(975);const{addItem:o}=r(79),{displayStorage:d}=r(382);let i=document.getElementById("user-name"),a=document.getElementById("user-pic"),s=document.getElementById("log-in"),l=document.getElementById("log-out");const u=()=>firebase.auth().currentUser.photoURL,c=()=>firebase.auth().currentUser.displayName;firebase.auth().onAuthStateChanged((e=>{if(e){let e=u(),t=c();i.textContent=t,a.setAttribute("src",e),i.removeAttribute("hidden"),a.removeAttribute("hidden"),l.removeAttribute("hidden"),s.setAttribute("hidden","true")}else i.setAttribute("hidden","true"),a.setAttribute("hidden","true"),l.setAttribute("hidden","true"),s.removeAttribute("hidden")})),console.log("loading"),firebase.firestore().collection("task").orderBy("timestamp","desc").onSnapshot((e=>{e.docChanges().forEach((e=>{if("removed"===e.type&&((0,n.c)(e.doc.id),console.log("deleted")),"added"===e.type){console.log(e.type);let t=e.doc.data();d(t.task,t.quantity,e.doc.id)}}))})),s.addEventListener("click",(()=>{let e=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithPopup(e)})),l.addEventListener("click",(()=>{firebase.auth().signOut()})),document.getElementById("addBtn").addEventListener("click",(()=>{(firebase.auth().currentUser||(alert("You must Log-in"),0))&&(o(),form.reset())}))},975:(e,t,r)=>{function n(e){console.log(e,"what");let t=document.getElementById(e);console.log(t),t&&t.parentNode.removeChild(t)}r.d(t,{c:()=>n})}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(138)})();
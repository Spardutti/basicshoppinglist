(()=>{"use strict";var e={79:(e,t,r)=>{r.r(t),r.d(t,{addItem:()=>i});var n=r(138);function i(){let e=document.querySelector(".item"),t=document.querySelector(".qty");return""==t.value&&(t.value=1),firebase.firestore().collection("task").add({name:(0,n.vW)(),task:e.value,profilePicUrl:(0,n.KN)(),quantity:t.value,timestamp:firebase.firestore.FieldValue.serverTimestamp()}).catch((function(e){console.error("Error writing new task to database",e)}))}},382:(e,t,r)=>{r.r(t),r.d(t,{displayStorage:()=>i});var n=r(975);function i(e,t,r){let i=document.createElement("p"),d=document.createElement("p"),o=document.createElement("p"),a=document.querySelector(".display"),s=document.createElement("div");s.setAttribute("class","displayItem"),s.setAttribute("id",r),i.innerHTML=e,d.innerHTML=t,o.innerHTML='<i class="fas fa-minus-circle"></i>',o.addEventListener("click",n.c),""!=e&&(s.append(i,d,o),a.appendChild(s))}},138:(e,t,r)=>{r.d(t,{vW:()=>l,KN:()=>c});var n=r(975);const{addItem:i}=r(79),{displayStorage:d}=r(382);let o=document.getElementById("user-name"),a=document.getElementById("user-pic"),s=document.getElementById("log-in"),u=document.getElementById("log-out");const c=()=>firebase.auth().currentUser.photoURL,l=()=>firebase.auth().currentUser.displayName;firebase.auth().onAuthStateChanged((e=>{if(e){let e=c(),t=l();o.textContent=t,a.setAttribute("src",e),o.removeAttribute("hidden"),a.removeAttribute("hidden"),u.removeAttribute("hidden"),s.setAttribute("hidden","true")}else o.setAttribute("hidden","true"),a.setAttribute("hidden","true"),u.setAttribute("hidden","true"),s.removeAttribute("hidden")})),firebase.firestore().collection("task").orderBy("timestamp","desc").onSnapshot((e=>{e.docChanges().forEach((e=>{if("removed"===e.type&&(0,n.c)(e.doc.id),"added"===e.type){let t=e.doc.data();d(t.task,t.quantity,e.doc.id)}}))})),s.addEventListener("click",(()=>{let e=new firebase.auth.GoogleAuthProvider;firebase.auth().signInWithPopup(e)})),u.addEventListener("click",(()=>{firebase.auth().signOut()})),document.getElementById("addBtn").addEventListener("click",(()=>{(firebase.auth().currentUser||(alert("You must Log-in"),0))&&(i(),form.reset())}))},975:(e,t,r)=>{function n(e){let t=e.target.parentNode.parentNode,r=document.querySelector(".display");firebase.firestore().collection("task").doc(t.id).delete().then((()=>{r.removeChild(t)}))}r.d(t,{c:()=>n})}},t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(138)})();